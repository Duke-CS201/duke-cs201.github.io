<html>
<head>
<title>NBody.java</title>
</head>
<body>
Link to code: <a href="../src/NBody.java">NBody.java</a><br>
<hr>
<!-- HTML generated using hilite.me --><div style="background: #f8f8f8; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><pre style="margin: 0; line-height: 125%"><span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">java.io.File</span><span style="color: #666666">;</span>
<span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">java.io.FileNotFoundException</span><span style="color: #666666">;</span>
<span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">java.util.Scanner</span><span style="color: #666666">;</span>

<span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">javafx.application.Application</span><span style="color: #666666">;</span>
<span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">javafx.stage.FileChooser</span><span style="color: #666666">;</span>
<span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">javafx.stage.Stage</span><span style="color: #666666">;</span>
<span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">princeton.StdAudio</span><span style="color: #666666">;</span>
<span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">princeton.StdDraw</span><span style="color: #666666">;</span>

<span style="color: #008000; font-weight: bold">public</span> <span style="color: #008000; font-weight: bold">class</span> <span style="color: #0000FF; font-weight: bold">NBody</span> <span style="color: #008000; font-weight: bold">extends</span> Application <span style="color: #666666">{</span>
    
    <span style="color: #008000; font-weight: bold">public</span> <span style="color: #008000; font-weight: bold">static</span> <span style="color: #008000; font-weight: bold">final</span> <span style="color: #B00040">double</span> G <span style="color: #666666">=</span> <span style="color: #666666">6.67</span>E<span style="color: #666666">-11;</span>

    <span style="color: #408080; font-style: italic">/**</span>
<span style="color: #408080; font-style: italic">     * returns Euclidean distance between (x1, y1) and (x2, y2)</span>
<span style="color: #408080; font-style: italic">     *</span>
<span style="color: #408080; font-style: italic">     * @param x1</span>
<span style="color: #408080; font-style: italic">     *            x-coordinate of point 1</span>
<span style="color: #408080; font-style: italic">     * @param y1</span>
<span style="color: #408080; font-style: italic">     *            y-coordinate of point 1</span>
<span style="color: #408080; font-style: italic">     * @param x2</span>
<span style="color: #408080; font-style: italic">     *            x-coordinate of point 2</span>
<span style="color: #408080; font-style: italic">     * @param y2</span>
<span style="color: #408080; font-style: italic">     *            y-coordinate of point 2</span>
<span style="color: #408080; font-style: italic">     * @return Euclidean distance between (x1, y1) and (x2, y2)</span>
<span style="color: #408080; font-style: italic">     */</span>
    <span style="color: #008000; font-weight: bold">public</span> <span style="color: #B00040">double</span> <span style="color: #0000FF">distance</span><span style="color: #666666">(</span><span style="color: #B00040">double</span> x1<span style="color: #666666">,</span> <span style="color: #B00040">double</span> y1<span style="color: #666666">,</span> <span style="color: #B00040">double</span> x2<span style="color: #666666">,</span> <span style="color: #B00040">double</span> y2<span style="color: #666666">)</span> <span style="color: #666666">{</span>
        <span style="color: #408080; font-style: italic">//TODO: Complete distance</span>
        <span style="color: #008000; font-weight: bold">return</span> <span style="color: #666666">0;</span>
    <span style="color: #666666">}</span>
    
    
    <span style="color: #408080; font-style: italic">/**</span>
<span style="color: #408080; font-style: italic">     * return the magnitude of the gravitational force between two bodies of</span>
<span style="color: #408080; font-style: italic">     * mass m1 and m2 that are distance r apart</span>
<span style="color: #408080; font-style: italic">     *</span>
<span style="color: #408080; font-style: italic">     * @param m1</span>
<span style="color: #408080; font-style: italic">     *            mass of body 1 in kg</span>
<span style="color: #408080; font-style: italic">     * @param m2</span>
<span style="color: #408080; font-style: italic">     *            mass of body 2 in kg</span>
<span style="color: #408080; font-style: italic">     * @param r</span>
<span style="color: #408080; font-style: italic">     *            distance in m</span>
<span style="color: #408080; font-style: italic">     * @return force between m1 and m2 that are distance r apart</span>
<span style="color: #408080; font-style: italic">     */</span>
    <span style="color: #008000; font-weight: bold">public</span> <span style="color: #B00040">double</span> <span style="color: #0000FF">force</span><span style="color: #666666">(</span><span style="color: #B00040">double</span> m1<span style="color: #666666">,</span> <span style="color: #B00040">double</span> m2<span style="color: #666666">,</span> <span style="color: #B00040">double</span> r<span style="color: #666666">)</span> <span style="color: #666666">{</span>
        <span style="color: #408080; font-style: italic">//TODO: Complete force</span>
        <span style="color: #008000; font-weight: bold">return</span> <span style="color: #666666">0;</span>
    <span style="color: #666666">}</span>


    <span style="color: #408080; font-style: italic">/**</span>
<span style="color: #408080; font-style: italic">     * Returns the x positions and y positions of bodies</span>
<span style="color: #408080; font-style: italic">     * @param totalTime The total amount of universe time to run for</span>
<span style="color: #408080; font-style: italic">     * @param timeStep The value of delta t in the equations to calculate position</span>
<span style="color: #408080; font-style: italic">     * @param info The scanner with info about the initial conditions of the</span>
<span style="color: #408080; font-style: italic">     * bodies</span>
<span style="color: #408080; font-style: italic">     * @return an array whose first element is the x positions of the bodies,</span>
<span style="color: #408080; font-style: italic">     * and whose second element is the y positions of the bodies at time</span>
<span style="color: #408080; font-style: italic">     * t = totalTime</span>
<span style="color: #408080; font-style: italic">     */</span>
    <span style="color: #008000; font-weight: bold">public</span> <span style="color: #B00040">double</span><span style="color: #666666">[][]</span> <span style="color: #0000FF">positions</span><span style="color: #666666">(</span>Scanner info<span style="color: #666666">,</span> <span style="color: #B00040">int</span> totalTime<span style="color: #666666">,</span> <span style="color: #B00040">int</span> timeStep<span style="color: #666666">)</span> <span style="color: #666666">{</span>
        <span style="color: #408080; font-style: italic">//TODO: Complete positions</span>
        <span style="color: #B00040">double</span><span style="color: #666666">[][]</span> output <span style="color: #666666">=</span> <span style="color: #008000; font-weight: bold">new</span> <span style="color: #B00040">double</span><span style="color: #666666">[0][2];</span> <span style="color: #408080; font-style: italic">//Replace 0 with the number of</span>
                                              <span style="color: #408080; font-style: italic">//bodies, read from the file</span>

        <span style="color: #008000; font-weight: bold">return</span> output<span style="color: #666666">;</span>
    <span style="color: #666666">}</span>

    <span style="color: #008000; font-weight: bold">public</span> <span style="color: #008000; font-weight: bold">static</span> <span style="color: #B00040">void</span> <span style="color: #0000FF">main</span><span style="color: #666666">(</span>String<span style="color: #666666">[]</span> args<span style="color: #666666">)</span> <span style="color: #666666">{</span>
        launch<span style="color: #666666">(</span>args<span style="color: #666666">);</span>
    <span style="color: #666666">}</span>
    
    <span style="color: #008000; font-weight: bold">public</span> <span style="color: #B00040">void</span> <span style="color: #0000FF">start</span><span style="color: #666666">(</span>Stage stage<span style="color: #666666">)</span> <span style="color: #666666">{</span>
        Scanner info <span style="color: #666666">=</span> openFile<span style="color: #666666">();</span>
        <span style="color: #B00040">int</span> time <span style="color: #666666">=</span> <span style="color: #666666">10000000;</span>
        <span style="color: #B00040">int</span> dt <span style="color: #666666">=</span> <span style="color: #666666">25000;</span>
        
        <span style="color: #008000; font-weight: bold">if</span> <span style="color: #666666">(</span>info <span style="color: #666666">!=</span> <span style="color: #008000; font-weight: bold">null</span><span style="color: #666666">)</span> <span style="color: #666666">{</span>
            <span style="color: #408080; font-style: italic">//StdAudio.play(&quot;data/2001.mid&quot;);</span>
            NBody myNBody <span style="color: #666666">=</span> <span style="color: #008000; font-weight: bold">new</span> NBody<span style="color: #666666">();</span>
            <span style="color: #B00040">double</span><span style="color: #666666">[][]</span> results <span style="color: #666666">=</span> myNBody<span style="color: #666666">.</span><span style="color: #7D9029">positions</span><span style="color: #666666">(</span>info<span style="color: #666666">,</span> time<span style="color: #666666">,</span> dt<span style="color: #666666">);</span>
            <span style="color: #008000; font-weight: bold">for</span><span style="color: #666666">(</span><span style="color: #B00040">int</span> i <span style="color: #666666">=</span> <span style="color: #666666">0;</span> i <span style="color: #666666">&lt;</span> results<span style="color: #666666">.</span><span style="color: #7D9029">length</span><span style="color: #666666">;</span> i<span style="color: #666666">++)</span> <span style="color: #666666">{</span>
                <span style="color: #008000; font-weight: bold">for</span><span style="color: #666666">(</span><span style="color: #B00040">int</span> j <span style="color: #666666">=</span> <span style="color: #666666">0;</span> j <span style="color: #666666">&lt;</span> results<span style="color: #666666">[</span>i<span style="color: #666666">].</span><span style="color: #7D9029">length</span><span style="color: #666666">;</span> j<span style="color: #666666">++)</span> <span style="color: #666666">{</span>
                    System<span style="color: #666666">.</span><span style="color: #7D9029">out</span><span style="color: #666666">.</span><span style="color: #7D9029">print</span><span style="color: #666666">(</span>results<span style="color: #666666">[</span>i<span style="color: #666666">][</span>j<span style="color: #666666">]+</span><span style="color: #BA2121">&quot; &quot;</span><span style="color: #666666">);</span>
                <span style="color: #666666">}</span>
                System<span style="color: #666666">.</span><span style="color: #7D9029">out</span><span style="color: #666666">.</span><span style="color: #7D9029">println</span><span style="color: #666666">();</span>
            <span style="color: #666666">}</span>
            StdDraw<span style="color: #666666">.</span><span style="color: #7D9029">clear</span><span style="color: #666666">();</span>
            StdAudio<span style="color: #666666">.</span><span style="color: #7D9029">close</span><span style="color: #666666">();</span>
        <span style="color: #666666">}</span>
    <span style="color: #666666">}</span>
    
    <span style="color: #408080; font-style: italic">/**</span>
<span style="color: #408080; font-style: italic">     * Displays file chooser for browsing in the project directory. and opens</span>
<span style="color: #408080; font-style: italic">     * the selected file</span>
<span style="color: #408080; font-style: italic">     *</span>
<span style="color: #408080; font-style: italic">     * @return a new Scanner that produces values scanned from the selected</span>
<span style="color: #408080; font-style: italic">     *         file. null if file could not be opened or was not selected</span>
<span style="color: #408080; font-style: italic">     */</span>
    <span style="color: #008000; font-weight: bold">public</span> <span style="color: #008000; font-weight: bold">static</span> Scanner <span style="color: #0000FF">openFile</span><span style="color: #666666">()</span> <span style="color: #666666">{</span>
        System<span style="color: #666666">.</span><span style="color: #7D9029">out</span><span style="color: #666666">.</span><span style="color: #7D9029">println</span><span style="color: #666666">(</span><span style="color: #BA2121">&quot;Opening file chooser&quot;</span><span style="color: #666666">);</span>
        FileChooser chooser <span style="color: #666666">=</span> <span style="color: #008000; font-weight: bold">new</span> FileChooser<span style="color: #666666">();</span>
        chooser<span style="color: #666666">.</span><span style="color: #7D9029">setTitle</span><span style="color: #666666">(</span><span style="color: #BA2121">&quot;Open Configuration File&quot;</span><span style="color: #666666">);</span>
        chooser<span style="color: #666666">.</span><span style="color: #7D9029">setInitialDirectory</span><span style="color: #666666">(</span><span style="color: #008000; font-weight: bold">new</span> File<span style="color: #666666">(</span><span style="color: #BA2121">&quot;data&quot;</span><span style="color: #666666">));</span>
        File file <span style="color: #666666">=</span> chooser<span style="color: #666666">.</span><span style="color: #7D9029">showOpenDialog</span><span style="color: #666666">(</span><span style="color: #008000; font-weight: bold">new</span> Stage<span style="color: #666666">());</span>
        
        <span style="color: #008000; font-weight: bold">if</span> <span style="color: #666666">(</span>file <span style="color: #666666">!=</span> <span style="color: #008000; font-weight: bold">null</span><span style="color: #666666">)</span> <span style="color: #666666">{</span>
            <span style="color: #008000; font-weight: bold">try</span> <span style="color: #666666">{</span>
                System<span style="color: #666666">.</span><span style="color: #7D9029">out</span><span style="color: #666666">.</span><span style="color: #7D9029">println</span><span style="color: #666666">(</span><span style="color: #BA2121">&quot;Opening: &quot;</span> <span style="color: #666666">+</span> file<span style="color: #666666">.</span><span style="color: #7D9029">getName</span><span style="color: #666666">()</span> <span style="color: #666666">+</span> <span style="color: #BA2121">&quot;&quot;</span><span style="color: #666666">);</span>
                <span style="color: #008000; font-weight: bold">return</span> <span style="color: #008000; font-weight: bold">new</span> <span style="color: #0000FF">Scanner</span><span style="color: #666666">(</span>file<span style="color: #666666">);</span>
            <span style="color: #666666">}</span>
            <span style="color: #008000; font-weight: bold">catch</span> <span style="color: #666666">(</span>FileNotFoundException fnf<span style="color: #666666">)</span> <span style="color: #666666">{</span>
                <span style="color: #008000; font-weight: bold">throw</span> <span style="color: #008000; font-weight: bold">new</span> <span style="color: #0000FF">RuntimeException</span><span style="color: #666666">(</span>fnf<span style="color: #666666">);</span>
            <span style="color: #666666">}</span>
        <span style="color: #666666">}</span>
        <span style="color: #008000; font-weight: bold">else</span> <span style="color: #666666">{</span>
            System<span style="color: #666666">.</span><span style="color: #7D9029">out</span><span style="color: #666666">.</span><span style="color: #7D9029">println</span><span style="color: #666666">(</span><span style="color: #BA2121">&quot;File open canceled&quot;</span><span style="color: #666666">);</span>    
            <span style="color: #008000; font-weight: bold">return</span> <span style="color: #008000; font-weight: bold">null</span><span style="color: #666666">;</span>
        <span style="color: #666666">}</span>
    <span style="color: #666666">}</span>
<span style="color: #666666">}</span>
</pre></div>


</body>
</html>